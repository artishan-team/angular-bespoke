!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.bespoke=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){var from=function(selectorOrElement,plugins){var parent=1===selectorOrElement.nodeType?selectorOrElement:document.querySelector(selectorOrElement),slides=[].filter.call(parent.children,function(el){return"SCRIPT"!==el.nodeName}),activeSlide=slides[0],listeners={},activate=function(index,customData){slides[index]&&(fire("deactivate",createEventData(activeSlide,customData)),activeSlide=slides[index],fire("activate",createEventData(activeSlide,customData)))},slide=function(index,customData){return arguments.length?void(fire("slide",createEventData(slides[index],customData))&&activate(index,customData)):slides.indexOf(activeSlide)},step=function(offset,customData){var slideIndex=slides.indexOf(activeSlide)+offset;fire(offset>0?"next":"prev",createEventData(activeSlide,customData))&&activate(slideIndex,customData)},on=function(eventName,callback){return(listeners[eventName]||(listeners[eventName]=[])).push(callback),function(){listeners[eventName]=listeners[eventName].filter(function(listener){return listener!==callback})}},fire=function(eventName,eventData){return(listeners[eventName]||[]).reduce(function(notCancelled,callback){return notCancelled&&callback(eventData)!==!1},!0)},createEventData=function(el,eventData){return eventData=eventData||{},eventData.index=slides.indexOf(el),eventData.slide=el,eventData},deck={on:on,fire:fire,slide:slide,next:step.bind(null,1),prev:step.bind(null,-1),parent:parent,slides:slides};return(plugins||[]).forEach(function(plugin){plugin(deck)}),activate(0),deck};module.exports={from:from}},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self);var o=n;o=o.bespoke||(o.bespoke={}),o=o.plugins||(o.plugins={}),o.classes=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){module.exports=function(){return function(deck){var addClass=function(el,cls){el.classList.add("bespoke-"+cls)},removeClass=function(el,cls){el.className=el.className.replace(new RegExp("bespoke-"+cls+"(\\s|$)","g")," ").trim()},deactivate=function(el,index){var activeSlide=deck.slides[deck.slide()],offset=index-deck.slide(),offsetClass=offset>0?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(removeClass.bind(null,el)),el!==activeSlide&&["inactive",offsetClass,offsetClass+"-"+Math.abs(offset)].map(addClass.bind(null,el))};addClass(deck.parent,"parent"),deck.slides.map(function(el){addClass(el,"slide")}),deck.on("activate",function(e){deck.slides.map(deactivate),addClass(e.slide,"active"),removeClass(e.slide,"inactive")})}}},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self);var o=n;o=o.bespoke||(o.bespoke={}),o=o.plugins||(o.plugins={}),o.keys=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){module.exports=function(options){return function(deck){var isHorizontal="vertical"!==options;document.addEventListener("keydown",function(e){(34==e.which||32==e.which||isHorizontal&&39==e.which||!isHorizontal&&40==e.which)&&deck.next(),(33==e.which||isHorizontal&&37==e.which||!isHorizontal&&38==e.which)&&deck.prev()})}}},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self);var o=n;o=o.bespoke||(o.bespoke={}),o=o.plugins||(o.plugins={}),o.scale=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){module.exports=function(options){return function(deck){var parent=deck.parent,firstSlide=deck.slides[0],slideHeight=firstSlide.offsetHeight,slideWidth=firstSlide.offsetWidth,useZoom="zoom"===options||"zoom"in parent.style&&"transform"!==options,wrap=function(element){var wrapper=document.createElement("div");return wrapper.className="bespoke-scale-parent",element.parentNode.insertBefore(wrapper,element),wrapper.appendChild(element),wrapper},elements=useZoom?deck.slides:deck.slides.map(wrap),transformProperty=function(property){var prefixes="Moz Webkit O ms".split(" ");return prefixes.reduce(function(currentProperty,prefix){return prefix+property in parent.style?prefix+property:currentProperty},property.toLowerCase())}("Transform"),scale=useZoom?function(ratio,element){element.style.zoom=ratio}:function(ratio,element){element.style[transformProperty]="scale("+ratio+")"},scaleAll=function(){var xScale=parent.offsetWidth/slideWidth,yScale=parent.offsetHeight/slideHeight;elements.forEach(scale.bind(null,Math.min(xScale,yScale)))};window.addEventListener("resize",scaleAll),scaleAll()}}},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self);var n=o;n=n.bespoke||(n.bespoke={}),n=n.plugins||(n.plugins={}),n.progress=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){module.exports=function(options){return function(deck){var progressParent=document.createElement("div"),progressBar=document.createElement("div"),prop="vertical"===options?"height":"width";progressParent.className="bespoke-progress-parent",progressBar.className="bespoke-progress-bar",progressParent.appendChild(progressBar),deck.parent.appendChild(progressParent),deck.on("activate",function(e){progressBar.style[prop]=100*e.index/(deck.slides.length-1)+"%"})}}},{}]},{},[1])(1)}),!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof global?o=global:"undefined"!=typeof self&&(o=self);var f=o;f=f.bespoke||(f.bespoke={}),f=f.themes||(f.themes={}),f.cube=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){var classes=_dereq_("bespoke-classes"),insertCss=_dereq_("insert-css");module.exports=function(){var css="*{-moz-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0}@media print{*{-webkit-print-color-adjust:exact}}@page{size:landscape;margin:0}.bespoke-parent{-webkit-transition:background .6s ease;transition:background .6s ease;position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}@media print{.bespoke-parent{overflow:visible;position:static}}.bespoke-theme-cube-slide-parent{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-perspective:600px;perspective:600px}.bespoke-slide{-webkit-transition:-webkit-transform .6s ease,opacity .6s ease,background .6s ease;transition:transform .6s ease,opacity .6s ease,background .6s ease;-webkit-transform-origin:50% 50% 0;transform-origin:50% 50% 0;-webkit-backface-visibility:hidden;backface-visibility:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;text-align:center;width:640px;height:480px;position:absolute;top:50%;margin-top:-240px;left:50%;margin-left:-320px;background:#eaeaea;padding:40px;border-radius:0}@media print{.bespoke-slide{zoom:1!important;height:743px;width:100%;page-break-before:always;position:static;margin:0;-webkit-transition:none;transition:none}}.bespoke-before{-webkit-transform:translateX(100px)translateX(-320px)rotateY(-90deg)translateX(-320px);transform:translateX(100px)translateX(-320px)rotateY(-90deg)translateX(-320px)}@media print{.bespoke-before{-webkit-transform:none;transform:none}}.bespoke-after{-webkit-transform:translateX(-100px)translateX(320px)rotateY(90deg)translateX(320px);transform:translateX(-100px)translateX(320px)rotateY(90deg)translateX(320px)}@media print{.bespoke-after{-webkit-transform:none;transform:none}}.bespoke-inactive{opacity:0;pointer-events:none}@media print{.bespoke-inactive{opacity:1}}.bespoke-active{opacity:1}.bespoke-bullet{-webkit-transition:all .3s ease;transition:all .3s ease}@media print{.bespoke-bullet{-webkit-transition:none;transition:none}}.bespoke-bullet-inactive{opacity:0}li.bespoke-bullet-inactive{-webkit-transform:translateX(16px);transform:translateX(16px)}@media print{li.bespoke-bullet-inactive{-webkit-transform:none;transform:none}}@media print{.bespoke-bullet-inactive{opacity:1}}.bespoke-bullet-active{opacity:1}.bespoke-scale-parent{-webkit-perspective:600px;perspective:600px;position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}.bespoke-scale-parent .bespoke-active{pointer-events:auto}@media print{.bespoke-scale-parent{-webkit-transform:none!important;transform:none!important}}.bespoke-progress-parent{position:absolute;top:0;left:0;right:0;height:2px}@media only screen and (min-width:1366px){.bespoke-progress-parent{height:4px}}@media print{.bespoke-progress-parent{display:none}}.bespoke-progress-bar{-webkit-transition:width .6s ease;transition:width .6s ease;position:absolute;height:100%;background:#0089f3;border-radius:0 4px 4px 0}.emphatic{background:#eaeaea}.bespoke-backdrop{position:absolute;top:0;left:0;right:0;bottom:0;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-transition:opacity .6s ease;transition:opacity .6s ease;opacity:0;z-index:-1}.bespoke-backdrop-active{opacity:1}pre{padding:26px!important;border-radius:8px}body{font-family:helvetica,arial,sans-serif;font-size:18px;color:#404040}h1{font-size:72px;line-height:82px;letter-spacing:-2px;margin-bottom:16px}h2{font-size:42px;letter-spacing:-1px;margin-bottom:8px}h3{font-size:24px;font-weight:400;margin-bottom:24px;color:#606060}hr{visibility:hidden;height:20px}ul{list-style:none}li{margin-bottom:12px}p{margin:0 100px 12px;line-height:22px}a{color:#0089f3;text-decoration:none}";return insertCss(css,{prepend:!0}),function(deck){classes()(deck);var wrap=function(element){var wrapper=document.createElement("div");wrapper.className="bespoke-theme-cube-slide-parent",element.parentNode.insertBefore(wrapper,element),wrapper.appendChild(element)};deck.slides.forEach(wrap)}}},{"bespoke-classes":2,"insert-css":3}],2:[function(_dereq_,module){module.exports=function(){return function(deck){var addClass=function(el,cls){el.classList.add("bespoke-"+cls)},removeClass=function(el,cls){el.className=el.className.replace(new RegExp("bespoke-"+cls+"(\\s|$)","g")," ").trim()},deactivate=function(el,index){var activeSlide=deck.slides[deck.slide()],offset=index-deck.slide(),offsetClass=offset>0?"after":"before";["before(-\\d+)?","after(-\\d+)?","active","inactive"].map(removeClass.bind(null,el)),el!==activeSlide&&["inactive",offsetClass,offsetClass+"-"+Math.abs(offset)].map(addClass.bind(null,el))};addClass(deck.parent,"parent"),deck.slides.map(function(el){addClass(el,"slide")}),deck.on("activate",function(e){deck.slides.map(deactivate),addClass(e.slide,"active"),removeClass(e.slide,"inactive")})}}},{}],3:[function(_dereq_,module){var inserted={};module.exports=function(css,options){if(!inserted[css]){inserted[css]=!0;var elem=document.createElement("style");elem.setAttribute("type","text/css"),"textContent"in elem?elem.textContent=css:elem.styleSheet.cssText=css;var head=document.getElementsByTagName("head")[0];options&&options.prepend?head.insertBefore(elem,head.childNodes[0]):head.appendChild(elem)}}},{}]},{},[1])(1)}),angular.module("artishan.bespoke",[]).directive("bespoke",[function(){return{restrict:"AE",scope:{bespokeSlides:"=slides"},link:function(scope,elem){var slides=scope.bespokeSlides;void 0!==slides&&(angular.forEach(slides,function(slide){var section=angular.element("<section>"+slide+"<section>");elem.append(section)}),bespoke.from(elem[0],[bespoke.themes.cube(),bespoke.plugins.classes(),bespoke.plugins.keys(),bespoke.plugins.scale(),bespoke.plugins.progress()]))}}}]);